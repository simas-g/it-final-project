import { createContext, useContext, useMemo } from 'react'
import { useTheme } from './ThemeContext'

const I18nContext = createContext()

const translations = {
  en: {
    // Navigation
    home: 'Home',
    dashboard: 'Dashboard',
    search: 'Search',
    admin: 'Admin',
    profile: 'Profile',
    login: 'Login',
    register: 'Register',
    logout: 'Logout',
    
    // Common
    save: 'Save',
    cancel: 'Cancel',
    delete: 'Delete',
    edit: 'Edit',
    create: 'Create',
    update: 'Update',
    loading: 'Loading...',
    error: 'Error',
    success: 'Success',
    confirm: 'Confirm',
    close: 'Close',
    view: 'View',
    viewAll: 'View All',
    public: 'Public',
    private: 'Private',
    back: 'Back',
    next: 'Next',
    previous: 'Previous',
    submit: 'Submit',
    actions: 'Actions',
    
    // Auth
    loginDescription: 'Sign in to continue',
    registerDescription: 'Create a new account',
    noAccount: "Don't have an account?",
    haveAccount: 'Already have an account?',
    welcomeBack: 'Welcome Back',
    signIn: 'Sign In',
    signUp: 'Sign Up',
    signingIn: 'Signing in...',
    signingUp: 'Signing up...',
    email: 'Email',
    password: 'Password',
    name: 'Name',
    createOne: 'Create one',
    termsText: 'By signing in, you agree to our Terms of Service',
    joinUs: 'Join Us',
    startManaging: 'Start managing your inventory today',
    createAccount: 'Create Account',
    getStarted: 'Get started in seconds',
    fullName: 'Full Name',
    confirmPassword: 'Confirm Password',
    passwordsDoNotMatch: 'Passwords do not match',
    creating: 'Creating...',
    unlimitedInventories: 'Unlimited inventories',
    customFieldTypes: 'Custom field types',
    realtimeCollaboration: 'Real-time collaboration',
    advancedSearch: 'Advanced search',
    testimonial: '"The most elegant inventory system I\'ve used. Simple, fast, and powerful."',
    professionalUser: '— Professional User',
    
    // Messages
    confirmDelete: 'Are you sure you want to delete this?',
    noDescription: 'No description',
    latestInventories: 'Latest Inventories',
    popularInventories: 'Popular Inventories',
    tagCloud: 'Tag Cloud',
    
    // Inventory
    inventory: 'Inventory',
    inventories: 'Inventories',
    createInventory: 'Create Inventory',
    editInventory: 'Edit Inventory',
    deleteInventory: 'Delete Inventory',
    inventoryName: 'Inventory Name',
    description: 'Description',
    category: 'Category',
    tags: 'Tags',
    yourInventories: 'Your Inventories',
    totalInventories: 'Total Inventories',
    noInventories: 'No Inventories',
    createFirstInventory: 'Create your first inventory',
    userHasNoInventories: 'This user has no inventories',
    latestCollections: 'Latest Collections',
    recentlyCreated: 'Recently created inventories',
    trending: 'Trending',
    mostPopular: 'Most popular inventories',
    browseByTags: 'Browse by Tags',
    exploreCategories: 'Explore categories',
    startManagingToday: 'Start Managing Today',
    joinPlatform: 'Join the modern inventory management platform',
    createFreeAccount: 'Create Free Account',
    deleteInventoryConfirm: 'Delete this inventory? This action cannot be undone.',
    
    // Items
    item: 'Item',
    items: 'Items',
    createItem: 'Create Item',
    editItem: 'Edit Item',
    deleteItem: 'Delete Item',
    customId: 'Custom ID',
    fields: 'Fields',
    totalItems: 'Total Items',
    noItems: 'No Items',
    addFirstItem: 'Add your first item',
    addItem: 'Add Item',
    userHasNoItems: 'This user has no items',
    recentActivity: 'Recent Activity',
    backToInventory: 'Back to Inventory',
    itemDetails: 'Item Details',
    itemInfo: 'Item Info',
    itemNotFound: 'Item not found',
    createdBy: 'Created by',
    createdAt: 'Created at',
    notSet: 'Not set',
    viewInventory: 'View Inventory',
    yes: 'Yes',
    no: 'No',
    saving: 'Saving...',
    itemUpdated: 'Item updated successfully',
    itemDeleted: 'Item deleted successfully',
    confirmDeleteItem: 'Are you sure you want to delete this item?',
    errorUpdatingItem: 'Failed to update item',
    errorDeletingItem: 'Failed to delete item',
    errorTogglingLike: 'Failed to toggle like',
    
    // Custom ID
    customIdFormat: 'Custom ID Format',
    addElement: 'Add Element',
    fixedText: 'Fixed Text',
    randomNumber: 'Random Number',
    sequence: 'Sequence',
    dateTime: 'Date/Time',
    preview: 'Preview',
    
    // Fields
    fieldType: 'Field Type',
    singleLineText: 'Single Line Text',
    multiLineText: 'Multi Line Text',
    numeric: 'Numeric',
    documentImage: 'Document/Image',
    boolean: 'Boolean',
    required: 'Required',
    showInTable: 'Show in Table',
    
    // Access
    access: 'Access',
    readAccess: 'Read Access',
    writeAccess: 'Write Access',
    read: 'Read',
    write: 'Write',
    addUser: 'Add User',
    removeUser: 'Remove User',
    publicAccess: 'Public Visibility',
    publicAccessDescription: 'Public inventories appear in search results and listings. Everyone can view all inventories regardless of this setting.',
    privateAccessDescription: 'Private inventories are hidden from public listings. Anyone with the link can still view it.',
    anyoneCanView: 'Visible in listings',
    onlySharedUsers: 'Hidden from listings',
    makePublic: 'Make Visible',
    makePrivate: 'Hide from Listings',
    userAccess: 'Edit Permissions',
    userAccessDescription: 'Grant users permission to edit this inventory and add items',
    addUserAccess: 'Add Editor',
    searchUser: 'Search User',
    searchByNameOrEmail: 'Search by name or email...',
    accessType: 'Access Type',
    readAccessDescription: 'Can view inventory and items',
    writeAccessDescription: 'Can edit inventory and add/modify items',
    grantAccess: 'Grant Access',
    giveAccess: 'Give Edit Access',
    adding: 'Adding...',
    noSharedUsers: 'No Editors',
    noSharedUsersDescription: 'Add users to give them permission to edit this inventory',
    accessGranted: 'Edit access granted successfully',
    accessUpdated: 'Access updated successfully',
    accessRemoved: 'Edit access removed successfully',
    inventoryNowPublic: 'Inventory is now visible in listings',
    inventoryNowPrivate: 'Inventory is now hidden from listings',
    confirmRemoveAccess: 'Remove edit access for this user?',
    errorFetchingAccess: 'Failed to fetch access list',
    errorAddingAccess: 'Failed to add access',
    errorUpdatingAccess: 'Failed to update access',
    errorRemovingAccess: 'Failed to remove access',
    errorTogglingPublic: 'Failed to update visibility',
    readAccessRedundant: 'This inventory is public - READ access is not needed',
    publicInventoryNote: 'This is a public inventory - only WRITE access is meaningful',
    readAccessNotNeeded: 'Not needed - inventory is already public',
    
    // Discussion
    discussion: 'Discussion',
    addPost: 'Add Post',
    postContent: 'Post Content',
    writeYourMessage: 'Write your message...',
    post: 'Post',
    posting: 'Posting...',
    noDiscussionYet: 'No discussion yet',
    beFirstToPost: 'Be the first to start the discussion!',
    loginToParticipate: 'Log in to participate in the discussion',
    edited: 'edited',
    confirmDeletePost: 'Are you sure you want to delete this post?',
    postCreated: 'Post created successfully',
    postUpdated: 'Post updated successfully',
    postDeleted: 'Post deleted successfully',
    errorFetchingPosts: 'Failed to fetch discussion posts',
    errorCreatingPost: 'Failed to create post',
    errorUpdatingPost: 'Failed to update post',
    errorDeletingPost: 'Failed to delete post',
    justNow: 'just now',
    minutesAgo: '{count} min ago',
    hoursAgo: '{count}h ago',
    daysAgo: '{count}d ago',
    
    // User Profile
    userNotFound: 'User not found',
    joined: 'Joined',
    posts: 'Posts',
    likedItems: 'Liked Items',
    noLikes: 'No Likes',
    noLikesYet: 'No one has liked this item yet',
    startLikingItems: 'Start liking items to see them here',
    userHasNoLikes: 'This user has not liked any items yet',
    liked: 'Liked',
    noPosts: 'No Posts',
    startDiscussion: 'Start participating in discussions',
    userHasNoPosts: 'This user has not posted any discussions yet',
    
    // Admin
    users: 'Users',
    systemStats: 'System Statistics',
    blockUser: 'Block User',
    unblockUser: 'Unblock User',
    changeRole: 'Change Role',
    adminPanel: 'Admin Panel',
    userManagement: 'User Management',
    role: 'Role',
    status: 'Status',
    active: 'Active',
    blocked: 'Blocked',
    makeAdmin: 'Make Admin',
    makeUser: 'Make User',
    totalUsers: 'Total Users',
    adminPanelDescription: 'Manage users and system settings',
    searchUsers: 'Search users...',
    block: 'Block',
    unblock: 'Unblock',
    removeAdmin: 'Remove Admin',
    confirmDeleteUser: 'Are you sure you want to delete this user?',
    totalPosts: 'Total Posts',
    adminAccessRequired: 'Admin access required',
    
    // Dashboard
    myDashboard: 'My Dashboard',
    overview: 'Overview',
    quickActions: 'Quick Actions',
    newInventory: 'New Inventory',
    viewInventories: 'View Inventories',
    pleaseLogin: 'Please log in to view your dashboard',
    createYourFirst: 'Create your first inventory to get started',
    ownedByYou: 'Owned by you',
    sharedWithYou: 'Shared with you',
    welcomeBack: 'Welcome back',
    
    // Search
    searchPlaceholder: 'Search inventories and items...',
    searchResults: 'Search Results',
    noResults: 'No results found',
    searching: 'Searching...',
    all: 'All',
    fromInventory: 'From inventory',
    likes: 'Likes',
    noInventoriesFound: 'No inventories found',
    noItemsFound: 'No items found',
    tryDifferentSearch: 'Try a different search term',
    inventoryNotFound: 'Inventory not found',
    backToDashboard: 'Back to Dashboard',
    settings: 'Settings',
    searchInventoriesItems: 'Search Inventories & Items',
    enterSearchTerm: 'Enter a search term above to find inventories and items',
    searchingByTag: 'Searching by tag:',
    clearFilter: 'Clear filter',
    noInventoriesWithTag: 'No inventories found with this tag',
    
    // Statistics
    statistics: 'Statistics',
    statsComingSoon: 'Statistics Coming Soon',
    statsDescription: 'Analytics and insights about your inventory will be available here.',
    discussionComingSoon: 'Discussion Coming Soon',
    discussionDescription: 'Discuss with others about this inventory.',
    overviewStats: 'Overview',
    itemsLast7Days: 'Last 7 days',
    itemsLast30Days: 'Last 30 days',
    averageItemsPerDay: 'Avg. items/day',
    totalDiscussions: 'Discussions',
    topContributors: 'Top Contributors',
    contributorsDescription: 'Users who added the most items',
    recentItems: 'Recent Items',
    recentItemsDescription: 'Last 5 items added',
    activityOverTime: 'Activity Over Time',
    activityDescription: 'Items added in the last 30 days',
    itemsAdded: 'Items added',
    noStatsData: 'Not enough data',
    noStatsDescription: 'Start adding items to see statistics',
    
    // Errors
    loginRequired: 'Please log in to continue',
    accessDenied: 'Access denied',
    notFound: 'Not found',
    serverError: 'Server error occurred'
  },
  
  es: {
    // Navigation
    home: 'Inicio',
    dashboard: 'Panel',
    search: 'Buscar',
    admin: 'Admin',
    profile: 'Perfil',
    login: 'Iniciar Sesión',
    register: 'Registrarse',
    logout: 'Cerrar Sesión',
    
    // Common
    save: 'Guardar',
    cancel: 'Cancelar',
    delete: 'Eliminar',
    edit: 'Editar',
    create: 'Crear',
    update: 'Actualizar',
    loading: 'Cargando...',
    error: 'Error',
    success: 'Éxito',
    confirm: 'Confirmar',
    close: 'Cerrar',
    view: 'Ver',
    viewAll: 'Ver Todo',
    public: 'Público',
    private: 'Privado',
    back: 'Atrás',
    next: 'Siguiente',
    previous: 'Anterior',
    submit: 'Enviar',
    actions: 'Acciones',
    
    // Inventory
    inventory: 'Inventario',
    inventories: 'Inventarios',
    createInventory: 'Crear Inventario',
    editInventory: 'Editar Inventario',
    deleteInventory: 'Eliminar Inventario',
    inventoryName: 'Nombre del Inventario',
    description: 'Descripción',
    category: 'Categoría',
    tags: 'Etiquetas',
    yourInventories: 'Tus Inventarios',
    totalInventories: 'Total de Inventarios',
    noInventories: 'Sin Inventarios',
    createFirstInventory: 'Crea tu primer inventario',
    userHasNoInventories: 'Este usuario no tiene inventarios',
    latestCollections: 'Últimas Colecciones',
    recentlyCreated: 'Inventarios creados recientemente',
    trending: 'Tendencias',
    mostPopular: 'Inventarios más populares',
    browseByTags: 'Buscar por Etiquetas',
    exploreCategories: 'Explorar categorías',
    startManagingToday: 'Empieza a Gestionar Hoy',
    joinPlatform: 'Únete a la plataforma moderna de gestión de inventarios',
    createFreeAccount: 'Crear Cuenta Gratuita',
    deleteInventoryConfirm: '¿Eliminar este inventario? Esta acción no se puede deshacer.',
    
    // Items
    item: 'Elemento',
    items: 'Elementos',
    createItem: 'Crear Elemento',
    editItem: 'Editar Elemento',
    deleteItem: 'Eliminar Elemento',
    customId: 'ID Personalizado',
    fields: 'Campos',
    totalItems: 'Total de Elementos',
    noItems: 'Sin Elementos',
    addFirstItem: 'Agrega tu primer elemento',
    addItem: 'Agregar Elemento',
    userHasNoItems: 'Este usuario no tiene elementos',
    recentActivity: 'Actividad Reciente',
    backToInventory: 'Volver al Inventario',
    itemDetails: 'Detalles del Elemento',
    itemInfo: 'Información del Elemento',
    itemNotFound: 'Elemento no encontrado',
    createdBy: 'Creado por',
    createdAt: 'Creado el',
    notSet: 'No establecido',
    viewInventory: 'Ver Inventario',
    yes: 'Sí',
    no: 'No',
    saving: 'Guardando...',
    itemUpdated: 'Elemento actualizado con éxito',
    itemDeleted: 'Elemento eliminado con éxito',
    confirmDeleteItem: '¿Estás seguro de que quieres eliminar este elemento?',
    errorUpdatingItem: 'Error al actualizar el elemento',
    errorDeletingItem: 'Error al eliminar el elemento',
    errorTogglingLike: 'Error al cambiar el me gusta',
    
    // Custom ID
    customIdFormat: 'Formato de ID Personalizado',
    addElement: 'Agregar Elemento',
    fixedText: 'Texto Fijo',
    randomNumber: 'Número Aleatorio',
    sequence: 'Secuencia',
    dateTime: 'Fecha/Hora',
    preview: 'Vista Previa',
    
    // Fields
    fieldType: 'Tipo de Campo',
    singleLineText: 'Texto de Una Línea',
    multiLineText: 'Texto de Múltiples Líneas',
    numeric: 'Numérico',
    documentImage: 'Documento/Imagen',
    boolean: 'Booleano',
    required: 'Requerido',
    showInTable: 'Mostrar en Tabla',
    
    // Access
    access: 'Acceso',
    readAccess: 'Acceso de Lectura',
    writeAccess: 'Acceso de Escritura',
    read: 'Leer',
    write: 'Escribir',
    addUser: 'Agregar Usuario',
    removeUser: 'Eliminar Usuario',
    publicAccess: 'Visibilidad Pública',
    publicAccessDescription: 'Los inventarios públicos aparecen en resultados de búsqueda y listados. Todos pueden ver todos los inventarios independientemente de esta configuración.',
    privateAccessDescription: 'Los inventarios privados están ocultos de listados públicos. Cualquiera con el enlace aún puede verlo.',
    anyoneCanView: 'Visible en listados',
    onlySharedUsers: 'Oculto de listados',
    makePublic: 'Hacer Visible',
    makePrivate: 'Ocultar de Listados',
    userAccess: 'Permisos de Edición',
    userAccessDescription: 'Otorga a los usuarios permiso para editar este inventario y agregar elementos',
    addUserAccess: 'Agregar Editor',
    searchUser: 'Buscar Usuario',
    searchByNameOrEmail: 'Buscar por nombre o correo...',
    accessType: 'Tipo de Acceso',
    readAccessDescription: 'Puede ver el inventario y los elementos',
    writeAccessDescription: 'Puede editar el inventario y agregar/modificar elementos',
    grantAccess: 'Otorgar Acceso',
    giveAccess: 'Dar Acceso de Edición',
    adding: 'Agregando...',
    noSharedUsers: 'Sin Editores',
    noSharedUsersDescription: 'Agrega usuarios para darles permiso de editar este inventario',
    accessGranted: 'Acceso de edición otorgado exitosamente',
    accessUpdated: 'Acceso actualizado exitosamente',
    accessRemoved: 'Acceso de edición eliminado exitosamente',
    inventoryNowPublic: 'El inventario ahora es visible en listados',
    inventoryNowPrivate: 'El inventario ahora está oculto de listados',
    confirmRemoveAccess: '¿Eliminar acceso de edición para este usuario?',
    errorFetchingAccess: 'Error al obtener la lista de acceso',
    errorAddingAccess: 'Error al agregar acceso',
    errorUpdatingAccess: 'Error al actualizar acceso',
    errorRemovingAccess: 'Error al eliminar acceso',
    errorTogglingPublic: 'Error al actualizar visibilidad',
    readAccessRedundant: 'Este inventario es público - No se necesita acceso de LECTURA',
    publicInventoryNote: 'Este es un inventario público - solo el acceso de ESCRITURA es significativo',
    readAccessNotNeeded: 'No necesario - el inventario ya es público',
    
    // Discussion
    discussion: 'Discusión',
    addPost: 'Agregar Publicación',
    postContent: 'Contenido de la Publicación',
    writeYourMessage: 'Escribe tu mensaje...',
    post: 'Publicar',
    posting: 'Publicando...',
    noDiscussionYet: 'Sin discusión todavía',
    beFirstToPost: '¡Sé el primero en iniciar la discusión!',
    loginToParticipate: 'Inicia sesión para participar en la discusión',
    edited: 'editado',
    confirmDeletePost: '¿Estás seguro de que quieres eliminar esta publicación?',
    postCreated: 'Publicación creada con éxito',
    postUpdated: 'Publicación actualizada con éxito',
    postDeleted: 'Publicación eliminada con éxito',
    errorFetchingPosts: 'Error al cargar las publicaciones',
    errorCreatingPost: 'Error al crear la publicación',
    errorUpdatingPost: 'Error al actualizar la publicación',
    errorDeletingPost: 'Error al eliminar la publicación',
    justNow: 'ahora mismo',
    minutesAgo: 'hace {count} min',
    hoursAgo: 'hace {count}h',
    daysAgo: 'hace {count}d',
    
    // User Profile
    userNotFound: 'Usuario no encontrado',
    joined: 'Se unió',
    posts: 'Publicaciones',
    likedItems: 'Elementos que Gustan',
    noLikes: 'Sin Me Gusta',
    noLikesYet: 'Nadie ha dado me gusta a este elemento todavía',
    startLikingItems: 'Comienza a dar me gusta a elementos para verlos aquí',
    userHasNoLikes: 'Este usuario no ha dado me gusta a ningún elemento todavía',
    liked: 'Le gustó',
    noPosts: 'Sin Publicaciones',
    startDiscussion: 'Comienza a participar en discusiones',
    userHasNoPosts: 'Este usuario no ha publicado en ninguna discusión todavía',
    
    // Admin
    users: 'Usuarios',
    systemStats: 'Estadísticas del Sistema',
    blockUser: 'Bloquear Usuario',
    unblockUser: 'Desbloquear Usuario',
    changeRole: 'Cambiar Rol',
    adminPanel: 'Panel de Administración',
    userManagement: 'Gestión de Usuarios',
    role: 'Rol',
    status: 'Estado',
    active: 'Activo',
    blocked: 'Bloqueado',
    makeAdmin: 'Hacer Administrador',
    makeUser: 'Hacer Usuario',
    totalUsers: 'Total de Usuarios',
    adminPanelDescription: 'Gestionar usuarios y configuración del sistema',
    searchUsers: 'Buscar usuarios...',
    block: 'Bloquear',
    unblock: 'Desbloquear',
    removeAdmin: 'Quitar Admin',
    confirmDeleteUser: '¿Estás seguro de que quieres eliminar este usuario?',
    totalPosts: 'Total de Publicaciones',
    adminAccessRequired: 'Se requiere acceso de administrador',
    
    // Dashboard
    myDashboard: 'Mi Panel',
    overview: 'Resumen',
    quickActions: 'Acciones Rápidas',
    newInventory: 'Nuevo Inventario',
    viewInventories: 'Ver Inventarios',
    pleaseLogin: 'Por favor inicia sesión para ver tu panel',
    createYourFirst: 'Crea tu primer inventario para comenzar',
    ownedByYou: 'De tu propiedad',
    sharedWithYou: 'Compartido contigo',
    welcomeBack: 'Bienvenido de nuevo',
    
    // Search
    searchPlaceholder: 'Buscar inventarios y elementos...',
    searchResults: 'Resultados de Búsqueda',
    noResults: 'No se encontraron resultados',
    searching: 'Buscando...',
    all: 'Todo',
    fromInventory: 'Del inventario',
    likes: 'Me gusta',
    noInventoriesFound: 'No se encontraron inventarios',
    noItemsFound: 'No se encontraron elementos',
    tryDifferentSearch: 'Intenta con otro término de búsqueda',
    inventoryNotFound: 'Inventario no encontrado',
    backToDashboard: 'Volver al Panel',
    settings: 'Configuración',
    searchInventoriesItems: 'Buscar Inventarios y Elementos',
    enterSearchTerm: 'Ingresa un término de búsqueda arriba para encontrar inventarios y elementos',
    searchingByTag: 'Buscando por etiqueta:',
    clearFilter: 'Limpiar filtro',
    noInventoriesWithTag: 'No se encontraron inventarios con esta etiqueta',
    
    // Statistics
    statistics: 'Estadísticas',
    statsComingSoon: 'Estadísticas Próximamente',
    statsDescription: 'Las analíticas y perspectivas sobre tu inventario estarán disponibles aquí.',
    discussionComingSoon: 'Discusión Próximamente',
    discussionDescription: 'Discute con otros sobre este inventario.',
    overviewStats: 'Resumen',
    itemsLast7Days: 'Últimos 7 días',
    itemsLast30Days: 'Últimos 30 días',
    averageItemsPerDay: 'Promedio elementos/día',
    totalDiscussions: 'Discusiones',
    topContributors: 'Principales Contribuidores',
    contributorsDescription: 'Usuarios que agregaron más elementos',
    recentItems: 'Elementos Recientes',
    recentItemsDescription: 'Últimos 5 elementos agregados',
    activityOverTime: 'Actividad en el Tiempo',
    activityDescription: 'Elementos agregados en los últimos 30 días',
    itemsAdded: 'Elementos agregados',
    noStatsData: 'No hay suficientes datos',
    noStatsDescription: 'Comienza agregando elementos para ver estadísticas',
    
    // Errors
    loginRequired: 'Por favor inicie sesión para continuar',
    accessDenied: 'Acceso denegado',
    notFound: 'No encontrado',
    serverError: 'Ocurrió un error del servidor',
    
    // Messages (continued)
    view: 'Ver',
    viewAll: 'Ver Todo',
    confirmDelete: '¿Está seguro de que desea eliminar esto?',
    noDescription: 'Sin descripción',
    latestInventories: 'Últimos Inventarios',
    popularInventories: 'Inventarios Populares',
    tagCloud: 'Nube de Etiquetas',
    yourInventories: 'Tus Inventarios',
    totalInventories: 'Total de Inventarios',
    noInventories: 'Sin Inventarios',
    createFirstInventory: 'Crea tu primer inventario',
    userHasNoInventories: 'Este usuario no tiene inventarios',
    totalItems: 'Total de Elementos',
    noItems: 'Sin Elementos',
    addFirstItem: 'Agrega tu primer elemento',
    addItem: 'Agregar Elemento',
    userHasNoItems: 'Este usuario no tiene elementos',
    recentActivity: 'Actividad Reciente',
    
    // Auth (continued)
    loginDescription: 'Inicia sesión para continuar',
    registerDescription: 'Crea una cuenta nueva',
    noAccount: '¿No tienes una cuenta?',
    haveAccount: '¿Ya tienes una cuenta?',
    welcomeBack: 'Bienvenido de nuevo',
    signIn: 'Iniciar Sesión',
    signUp: 'Registrarse',
    signingIn: 'Iniciando sesión...',
    signingUp: 'Registrando...',
    email: 'Correo electrónico',
    password: 'Contraseña',
    name: 'Nombre',
    createOne: 'Crear una',
    termsText: 'Al iniciar sesión, aceptas nuestros Términos de Servicio',
    joinUs: 'Únete',
    startManaging: 'Comienza a gestionar tu inventario hoy',
    createAccount: 'Crear Cuenta',
    getStarted: 'Comienza en segundos',
    fullName: 'Nombre Completo',
    confirmPassword: 'Confirmar Contraseña',
    passwordsDoNotMatch: 'Las contraseñas no coinciden',
    creating: 'Creando...',
    unlimitedInventories: 'Inventarios ilimitados',
    customFieldTypes: 'Tipos de campos personalizados',
    realtimeCollaboration: 'Colaboración en tiempo real',
    advancedSearch: 'Búsqueda avanzada',
    testimonial: '"El sistema de inventario más elegante que he usado. Simple, rápido y potente."',
    professionalUser: '— Usuario Profesional',
  },
  
  pl: {
    // Navigation
    home: 'Strona główna',
    dashboard: 'Panel',
    search: 'Szukaj',
    admin: 'Admin',
    profile: 'Profil',
    login: 'Zaloguj się',
    register: 'Zarejestruj się',
    logout: 'Wyloguj się',
    
    // Common
    save: 'Zapisz',
    cancel: 'Anuluj',
    delete: 'Usuń',
    edit: 'Edytuj',
    create: 'Utwórz',
    update: 'Aktualizuj',
    loading: 'Ładowanie...',
    error: 'Błąd',
    success: 'Sukces',
    confirm: 'Potwierdź',
    close: 'Zamknij',
    view: 'Zobacz',
    viewAll: 'Zobacz wszystko',
    public: 'Publiczny',
    private: 'Prywatny',
    back: 'Wstecz',
    next: 'Dalej',
    previous: 'Poprzedni',
    submit: 'Prześlij',
    actions: 'Akcje',
    
    // Auth
    loginDescription: 'Zaloguj się, aby kontynuować',
    registerDescription: 'Utwórz nowe konto',
    noAccount: 'Nie masz konta?',
    haveAccount: 'Masz już konto?',
    welcomeBack: 'Witaj ponownie',
    signIn: 'Zaloguj się',
    signUp: 'Zarejestruj się',
    signingIn: 'Logowanie...',
    signingUp: 'Rejestracja...',
    email: 'Email',
    password: 'Hasło',
    name: 'Imię',
    createOne: 'Utwórz konto',
    termsText: 'Logując się, akceptujesz nasze Warunki korzystania z usługi',
    joinUs: 'Dołącz do nas',
    startManaging: 'Zacznij zarządzać swoim inwentarzem już dziś',
    createAccount: 'Utwórz Konto',
    getStarted: 'Rozpocznij w kilka sekund',
    fullName: 'Pełne Imię i Nazwisko',
    confirmPassword: 'Potwierdź Hasło',
    passwordsDoNotMatch: 'Hasła nie pasują',
    creating: 'Tworzenie...',
    unlimitedInventories: 'Nieograniczone inwentarze',
    customFieldTypes: 'Niestandardowe typy pól',
    realtimeCollaboration: 'Współpraca w czasie rzeczywistym',
    advancedSearch: 'Zaawansowane wyszukiwanie',
    testimonial: '"Najbardziej elegancki system inwentaryzacji, którego używałem. Prosty, szybki i potężny."',
    professionalUser: '— Profesjonalny Użytkownik',
    
    // Messages
    confirmDelete: 'Czy na pewno chcesz to usunąć?',
    noDescription: 'Brak opisu',
    latestInventories: 'Najnowsze Inwentarze',
    popularInventories: 'Popularne Inwentarze',
    tagCloud: 'Chmura Tagów',
    
    // Inventory
    inventory: 'Inwentarz',
    inventories: 'Inwentarze',
    createInventory: 'Utwórz Inwentarz',
    editInventory: 'Edytuj Inwentarz',
    deleteInventory: 'Usuń Inwentarz',
    inventoryName: 'Nazwa Inwentarza',
    description: 'Opis',
    category: 'Kategoria',
    tags: 'Tagi',
    yourInventories: 'Twoje Inwentarze',
    totalInventories: 'Wszystkich Inwentarzy',
    noInventories: 'Brak Inwentarzy',
    createFirstInventory: 'Utwórz swój pierwszy inwentarz',
    userHasNoInventories: 'Ten użytkownik nie ma inwentarzy',
    latestCollections: 'Najnowsze Kolekcje',
    recentlyCreated: 'Ostatnio utworzone inwentarze',
    trending: 'Trendy',
    mostPopular: 'Najpopularniejsze inwentarze',
    browseByTags: 'Przeglądaj po Tagach',
    exploreCategories: 'Odkrywaj kategorie',
    startManagingToday: 'Zacznij Zarządzać Dziś',
    joinPlatform: 'Dołącz do nowoczesnej platformy zarządzania inwentarzem',
    createFreeAccount: 'Utwórz Darmowe Konto',
    deleteInventoryConfirm: 'Usunąć ten inwentarz? Tej akcji nie można cofnąć.',
    
    // Items
    item: 'Element',
    items: 'Elementy',
    createItem: 'Utwórz Element',
    editItem: 'Edytuj Element',
    deleteItem: 'Usuń Element',
    customId: 'Niestandardowe ID',
    fields: 'Pola',
    totalItems: 'Wszystkich Elementów',
    noItems: 'Brak Elementów',
    addFirstItem: 'Dodaj swój pierwszy element',
    addItem: 'Dodaj Element',
    userHasNoItems: 'Ten użytkownik nie ma elementów',
    recentActivity: 'Ostatnia Aktywność',
    backToInventory: 'Powrót do Inwentarza',
    itemDetails: 'Szczegóły Elementu',
    itemInfo: 'Informacje o Elemencie',
    itemNotFound: 'Nie znaleziono elementu',
    createdBy: 'Utworzony przez',
    createdAt: 'Utworzony',
    notSet: 'Nie ustawiono',
    viewInventory: 'Zobacz Inwentarz',
    yes: 'Tak',
    no: 'Nie',
    saving: 'Zapisywanie...',
    itemUpdated: 'Element zaktualizowany pomyślnie',
    itemDeleted: 'Element usunięty pomyślnie',
    confirmDeleteItem: 'Czy na pewno chcesz usunąć ten element?',
    errorUpdatingItem: 'Nie udało się zaktualizować elementu',
    errorDeletingItem: 'Nie udało się usunąć elementu',
    errorTogglingLike: 'Nie udało się zmienić polubienia',
    
    // Custom ID
    customIdFormat: 'Format Niestandardowego ID',
    addElement: 'Dodaj Element',
    fixedText: 'Stały Tekst',
    randomNumber: 'Losowa Liczba',
    sequence: 'Sekwencja',
    dateTime: 'Data/Czas',
    preview: 'Podgląd',
    
    // Fields
    fieldType: 'Typ Pola',
    singleLineText: 'Tekst Jednoliniowy',
    multiLineText: 'Tekst Wieloliniowy',
    numeric: 'Numeryczny',
    documentImage: 'Dokument/Obraz',
    boolean: 'Logiczny',
    required: 'Wymagane',
    showInTable: 'Pokaż w Tabeli',
    
    // Access
    access: 'Dostęp',
    readAccess: 'Dostęp do Odczytu',
    writeAccess: 'Dostęp do Zapisu',
    read: 'Odczyt',
    write: 'Zapis',
    addUser: 'Dodaj Użytkownika',
    removeUser: 'Usuń Użytkownika',
    publicAccess: 'Widoczność Publiczna',
    publicAccessDescription: 'Publiczne inwentarze pojawiają się w wynikach wyszukiwania i listach. Każdy może zobaczyć wszystkie inwentarze niezależnie od tego ustawienia.',
    privateAccessDescription: 'Prywatne inwentarze są ukryte z publicznych list. Każdy z linkiem nadal może je zobaczyć.',
    anyoneCanView: 'Widoczny na listach',
    onlySharedUsers: 'Ukryty z list',
    makePublic: 'Ustaw jako Widoczny',
    makePrivate: 'Ukryj z List',
    userAccess: 'Uprawnienia Edycji',
    userAccessDescription: 'Przyznaj użytkownikom uprawnienia do edycji tego inwentarza i dodawania elementów',
    addUserAccess: 'Dodaj Edytora',
    searchUser: 'Szukaj Użytkownika',
    searchByNameOrEmail: 'Szukaj po nazwie lub e-mailu...',
    accessType: 'Typ Dostępu',
    readAccessDescription: 'Może przeglądać inwentarz i elementy',
    writeAccessDescription: 'Może edytować inwentarz i dodawać/modyfikować elementy',
    grantAccess: 'Przyznaj Dostęp',
    giveAccess: 'Daj Dostęp Edycji',
    adding: 'Dodawanie...',
    noSharedUsers: 'Brak Edytorów',
    noSharedUsersDescription: 'Dodaj użytkowników, aby dać im uprawnienia do edycji tego inwentarza',
    accessGranted: 'Dostęp edycji przyznany pomyślnie',
    accessUpdated: 'Dostęp zaktualizowany pomyślnie',
    accessRemoved: 'Dostęp edycji usunięty pomyślnie',
    inventoryNowPublic: 'Inwentarz jest teraz widoczny na listach',
    inventoryNowPrivate: 'Inwentarz jest teraz ukryty z list',
    confirmRemoveAccess: 'Usunąć dostęp edycji dla tego użytkownika?',
    errorFetchingAccess: 'Nie udało się pobrać listy dostępu',
    errorAddingAccess: 'Nie udało się dodać dostępu',
    errorUpdatingAccess: 'Nie udało się zaktualizować dostępu',
    errorRemovingAccess: 'Nie udało się usunąć dostępu',
    errorTogglingPublic: 'Nie udało się zaktualizować widoczności',
    readAccessRedundant: 'Ten inwentarz jest publiczny - dostęp do ODCZYTU nie jest potrzebny',
    publicInventoryNote: 'To jest publiczny inwentarz - tylko dostęp do ZAPISU jest znaczący',
    readAccessNotNeeded: 'Nie potrzebny - inwentarz jest już publiczny',
    
    // Discussion
    discussion: 'Dyskusja',
    addPost: 'Dodaj Post',
    postContent: 'Treść Posta',
    writeYourMessage: 'Napisz swoją wiadomość...',
    post: 'Opublikuj',
    posting: 'Publikowanie...',
    noDiscussionYet: 'Brak dyskusji',
    beFirstToPost: 'Bądź pierwszą osobą, która rozpocznie dyskusję!',
    loginToParticipate: 'Zaloguj się, aby wziąć udział w dyskusji',
    edited: 'edytowany',
    confirmDeletePost: 'Czy na pewno chcesz usunąć ten post?',
    postCreated: 'Post utworzony pomyślnie',
    postUpdated: 'Post zaktualizowany pomyślnie',
    postDeleted: 'Post usunięty pomyślnie',
    errorFetchingPosts: 'Nie udało się pobrać postów',
    errorCreatingPost: 'Nie udało się utworzyć posta',
    errorUpdatingPost: 'Nie udało się zaktualizować posta',
    errorDeletingPost: 'Nie udało się usunąć posta',
    justNow: 'przed chwilą',
    minutesAgo: '{count} min temu',
    hoursAgo: '{count}h temu',
    daysAgo: '{count}d temu',
    
    // User Profile
    userNotFound: 'Nie znaleziono użytkownika',
    joined: 'Dołączył',
    posts: 'Posty',
    likedItems: 'Polubione Elementy',
    noLikes: 'Brak Polubień',
    noLikesYet: 'Nikt jeszcze nie polubił tego elementu',
    startLikingItems: 'Zacznij polubić elementy, aby zobaczyć je tutaj',
    userHasNoLikes: 'Ten użytkownik nie polubił jeszcze żadnych elementów',
    liked: 'Polubiono',
    noPosts: 'Brak Postów',
    startDiscussion: 'Zacznij uczestniczyć w dyskusjach',
    userHasNoPosts: 'Ten użytkownik nie opublikował jeszcze żadnych dyskusji',
    
    // Admin
    users: 'Użytkownicy',
    systemStats: 'Statystyki Systemu',
    blockUser: 'Zablokuj Użytkownika',
    unblockUser: 'Odblokuj Użytkownika',
    changeRole: 'Zmień Rolę',
    adminPanel: 'Panel Administratora',
    userManagement: 'Zarządzanie Użytkownikami',
    role: 'Rola',
    status: 'Status',
    active: 'Aktywny',
    blocked: 'Zablokowany',
    makeAdmin: 'Nadaj Uprawnienia Administratora',
    makeUser: 'Zmień na Użytkownika',
    totalUsers: 'Wszystkich Użytkowników',
    adminPanelDescription: 'Zarządzaj użytkownikami i ustawieniami systemu',
    searchUsers: 'Szukaj użytkowników...',
    block: 'Zablokuj',
    unblock: 'Odblokuj',
    removeAdmin: 'Usuń Administratora',
    confirmDeleteUser: 'Czy na pewno chcesz usunąć tego użytkownika?',
    totalPosts: 'Wszystkich Postów',
    adminAccessRequired: 'Wymagany dostęp administratora',
    
    // Dashboard
    myDashboard: 'Mój Panel',
    overview: 'Przegląd',
    quickActions: 'Szybkie Akcje',
    newInventory: 'Nowy Inwentarz',
    viewInventories: 'Zobacz Inwentarze',
    pleaseLogin: 'Zaloguj się, aby zobaczyć swój panel',
    createYourFirst: 'Utwórz swój pierwszy inwentarz, aby rozpocząć',
    ownedByYou: 'Twoja własność',
    sharedWithYou: 'Udostępnione Tobie',
    welcomeBack: 'Witaj ponownie',
    
    // Search
    searchPlaceholder: 'Szukaj inwentarzy i elementów...',
    searchResults: 'Wyniki Wyszukiwania',
    noResults: 'Nie znaleziono wyników',
    searching: 'Szukanie...',
    all: 'Wszystko',
    fromInventory: 'Z inwentarza',
    likes: 'Polubienia',
    noInventoriesFound: 'Nie znaleziono inwentarzy',
    noItemsFound: 'Nie znaleziono elementów',
    tryDifferentSearch: 'Spróbuj innego wyszukiwania',
    inventoryNotFound: 'Nie znaleziono inwentarza',
    backToDashboard: 'Powrót do Panelu',
    settings: 'Ustawienia',
    searchInventoriesItems: 'Szukaj Inwentarzy i Elementów',
    enterSearchTerm: 'Wprowadź wyszukiwane hasło powyżej, aby znaleźć inwentarze i elementy',
    searchingByTag: 'Wyszukiwanie według tagu:',
    clearFilter: 'Wyczyść filtr',
    noInventoriesWithTag: 'Nie znaleziono inwentarzy z tym tagiem',
    
    // Statistics
    statistics: 'Statystyki',
    statsComingSoon: 'Statystyki Wkrótce',
    statsDescription: 'Analityka i spostrzeżenia dotyczące twojego inwentarza będą dostępne tutaj.',
    discussionComingSoon: 'Dyskusja Wkrótce',
    discussionDescription: 'Dyskutuj z innymi o tym inwentarzu.',
    overviewStats: 'Przegląd',
    itemsLast7Days: 'Ostatnie 7 dni',
    itemsLast30Days: 'Ostatnie 30 dni',
    averageItemsPerDay: 'Śr. elementów/dzień',
    totalDiscussions: 'Dyskusje',
    topContributors: 'Najlepsi Kontrybutorzy',
    contributorsDescription: 'Użytkownicy, którzy dodali najwięcej elementów',
    recentItems: 'Najnowsze Elementy',
    recentItemsDescription: 'Ostatnie 5 dodanych elementów',
    activityOverTime: 'Aktywność w Czasie',
    activityDescription: 'Elementy dodane w ciągu ostatnich 30 dni',
    itemsAdded: 'Dodane elementy',
    noStatsData: 'Za mało danych',
    noStatsDescription: 'Zacznij dodawać elementy, aby zobaczyć statystyki',
    
    // Errors
    loginRequired: 'Zaloguj się, aby kontynuować',
    accessDenied: 'Brak dostępu',
    notFound: 'Nie znaleziono',
    serverError: 'Wystąpił błąd serwera'
  }
}

export function I18nProvider({ children }) {
  const { language } = useTheme()

  const value = useMemo(() => {
  const getTranslation = (key, lang, params = {}) => {
      const targetLanguage = lang || language || 'en'
      let text = translations[targetLanguage]?.[key] || translations['en']?.[key] || key
      
      // Replace placeholders like {count}, {name}, etc.
      Object.keys(params).forEach(param => {
        text = text.replace(`{${param}}`, params[param])
      })
      
      return text
  }

  const t = (key, params = {}) => {
      return getTranslation(key, language, params)
  }

    return {
    getTranslation,
    t,
    translations,
      language
  }
  }, [language])

  return (
    <I18nContext.Provider value={value}>
      {children}
    </I18nContext.Provider>
  )
}

export function useI18n() {
  const context = useContext(I18nContext)
  if (!context) {
    throw new Error('useI18n must be used within an I18nProvider')
  }
  return context
}
